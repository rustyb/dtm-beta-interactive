<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dublin Frequent Transport Map - BETA</title>
	<link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
	<!--[if lte IE 8]>
	  <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.ie.css" />
	<![endif]-->
	<script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script>
	<link href='//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.css' rel='stylesheet' />
	<script src='//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.standalone.js'></script>
	
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="stylesheet" href="stylesheets/app.css" />
    <script src="bower_components/modernizr/modernizr.js"></script>
	<style>
	#layer_selector {
        
        padding: 0;
      }

      #layer_selector ul {
        padding: 0; margin: 0;
        list-style-type: none;
      }

      #layer_selector li {
        border-bottom: 1px solid #999;
        padding: 15px 30px;
        font-family: "Helvetica", Arial;
        font-size: 13px;
        color: #444;
        cursor: auto;
      }

      #layer_selector li:hover {
        background-color: #F0F0F0;
        cursor: pointer;
      }

      #layer_selector li.selected {
        background-color: #EEE;
      }
	div.cartodb-popup.header div.cartodb-popup-header, div.cartodb-popup div.cartodb-popup-content-wrapper {width:226px;max-width:226px;}
	
</style>
</head>
<body>
			<div class="small-3 columns">
				<h2>Dublin Frequent Transport Map</h2>
				<p>Welcome to the interactive Dublin Frequent Transport Map, here you can find extra information on the transport options of the paper map including live train located.</p>
				<p><a href="mailto:questions@uservoice.com" data-uv-trigger>I would love to receive any feedback you have on the map! Drop me a message.</a>
				</p>
				<dl class="accordion" data-accordion>
				  <dd>
					<a href="#panel1">Irish Rail Live Trains</a>
					<div id="panel1" class="content">
						<div id="onscreen"></div>
					</div>
				  </dd>
				  <dd>
					<a href="#panel2">Bus Routes</a>
					<div id="panel2" class="content">
						<div id="layer_selector" class="cartodb-infobox" style="position:relative;">
						      <ul>
						        <li data="all" class="selected">All Stops</li>
								<li data="4572.95.0-4-b12-1.8.I">Route 4 Inbound</li>
								<li data="5965.1818.0-7-b12-1.13.I">Route 7 Inbound</li>
								<li data="3686.156.0-9-b12-1.29.I">Route 9 Inbound</li>
								<li data="3277.357.0-13-b12-1.132.I">Route 13 Inbound</li>
								<li data="5044.2038.0-15-b12-1.148.I">Route 15 Inbound</li>
								<li data="4775.2239.0-16-b12-1.162.I">Route 16 Inbound</li>
								<li data="4166.2434.0-27-b12-1.193.I">Route 27 Inbound</li>
								<li data="287.1567.0-27B-b12-1.442.I">Route 27B Inbound</li>
								<li data="3241.2972.0-39A-b12-1.246.I">Route 39A Inbound</li>
								<li data="5431.3044.0-40-b12-1.252.I">Route 40 Inbound</li>
								<li data="6511.3458.0-46A-b12-1.301.I">Route 46A Inbound</li>
								<li data="5603.4178.0-83-b12-1.48.I">Route 83 Inbound</li>
								<li data="4283.1126.0-123-b12-1.375.I">Route 123 Inbound</li>
								<li data="6289.4418.0-145-b12-1.397.I">Route 145 Inbound</li>
								<li data="6127.1318.0-150-b12-1.405.I">Route 150 Inbound</li>
						      </ul>
						</div>
					</div>
				   </dd>
				</dl>
				<p><strong>*note this is a beta site and as such things will change.</strong></p>
				<p><a href="http://www.cbroderick.me"><img src="img/cb_logo.png" /></a></p>
			</div>
			<div class="small-9 columns">
				<div id="map" class="map"></div>
			</div>
			<!--Custom html for the infowindow customization-->
			    <!--You can write simple html or use Mustache templates http://mustache.github.com/-->
			    <!--Content.data contains the field info-->
			    <script type="infowindow/html" id="infowindow_template">
				<div class="cartodb-popup header yellow">
				  <a href="#close" class="cartodb-popup-close-button close">x</a>
				  <div class="cartodb-popup-header">
				    <h1>{{content.data.stop_name}} ({{content.data.s_id}})</h1>
				    <span class="separator"></span>
				  </div>
				  <div class="cartodb-popup-content-wrapper">
				    <div class="cartodb-popup-content">
				      <h4>Destination</h4>
				      <p>{{content.data.stop_headsign}}</p>
				      <h4>stop_sequence</h4>
				      <p>{{content.data.stop_sequence}}</p>
				      <p><a id="{{content.data.s_id}}" target="_blank" href="http://www.dublinbus.ie/en/RTPI/Sources-of-Real-Time-Information/?searchtype=view&searchquery={{content.data.s_id}}">Check Realtime Bus Departures</a></p>
				    </div>
				  </div>
				  <div class="cartodb-popup-tip-container">
				  </div>
				</div>
			    </script>
    <!-- External libraries and site script -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="irish_rail.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
    <script src="js/app.js"></script>
    

	<script>
	// Include the UserVoice JavaScript SDK (only needed once on a page)
	UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/QyPi6gvS6wYVKJWQA6wpOA.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

	//
	// UserVoice Javascript SDK developer documentation:
	// https://www.uservoice.com/o/javascript-sdk
	//

	// Set colors
	UserVoice.push(['set', {
	  accent_color: '#448dd6',
	  trigger_color: 'white',
	  trigger_background_color: '#6aba2e'
	}]);

	// Identify the user and pass traits
	// To enable, replace sample data with actual user traits and uncomment the line
	UserVoice.push(['identify', {
	  //email:      'john.doe@example.com', // User’s email address
	  //name:       'John Doe', // User’s real name
	  //created_at: 1364406966, // Unix timestamp for the date the user signed up
	  //id:         123, // Optional: Unique id of the user (if set, this should not change)
	  //type:       'Owner', // Optional: segment your users by type
	  //account: {
	  //  id:           123, // Optional: associate multiple users with a single account
	  //  name:         'Acme, Co.', // Account name
	  //  created_at:   1364406966, // Unix timestamp for the date the account was created
	  //  monthly_rate: 9.99, // Decimal; monthly rate of the account
	  //  ltv:          1495.00, // Decimal; lifetime value of the account
	  //  plan:         'Enhanced' // Plan name for the account
	  //}
	}]);

	// Add default trigger to the bottom-right corner of the window:
	UserVoice.push(['addTrigger', { mode: 'contact', trigger_position: 'bottom-right' }]);

	// Or, use your own custom trigger:
	//UserVoice.push(['addTrigger', '#id', { mode: 'contact' }]);

	// Autoprompt for Satisfaction and SmartVote (only displayed under certain conditions)
	UserVoice.push(['autoprompt', {}]);
	</script>
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-10650316-9']);
	  _gaq.push(['_setDomainName', 'cbroderick.me']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
</body>
</html>
